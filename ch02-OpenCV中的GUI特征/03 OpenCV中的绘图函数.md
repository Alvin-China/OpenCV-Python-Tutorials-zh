**OpenCV中的绘图函数**

学习使用OpenCV绘制直线、矩形、椭圆、圆等。

## 目标 ##

- 学习使用OpenCV绘制不同的几何形状
- 您将学习以下函数：cv.line（），cv.circle（），cv.rectangle（），cv.ellipse（），cv.putText（）等。

## 代码 ##

在上述所有函数中，您将看到如下所示的一些常见参数：

- img : 要绘制形状的图像
- color : 形状的颜色。 对于BGR，将其作为元组传递，例如：（255,0,0）为蓝色。 对于灰度，只需传递标量值。
- thickness : 线条或圆形等的厚度。如果**   1 **通过圆形等闭合数字，它将填充形状。 默认厚度= 1
- lineType : 线路类型，无论是8连接，抗锯齿线等。默认情况下，它是8连接的。 cv.LINE_AA给出抗锯齿线，它看起来很适合曲线。

## 绘制线 ##

要绘制线条，您需要传递线条的起点和终点坐标。 我们将创建一个黑色图像，并在其上从左上角到右下角绘制一条蓝线。

	import numpy as np
	import cv2 as cv
	# Create a black image
	img = np.zeros((512,512,3), np.uint8)
	# Draw a diagonal blue line with thickness of 5 px
	cv.line(img,(0,0),(511,511),(255,0,0),5)

	# 显示图像
	cv.imshow('image',img)
	cv.waitKey(0)

## 绘制矩形 ##

要绘制矩形，您需要矩形的左上角和右下角。 这次我们将在图像的右上角绘制一个绿色矩形。

	cv.rectangle(img,(384,0),(510,128),(0,255,0),3)

## 绘制圆形 ##

要绘制圆，您需要其中心坐标和半径。 我们将在上面绘制的矩形内绘制一个圆。

	cv.circle(img,(447,63), 63, (0,0,255), -1)

## 绘制椭圆 ##

要绘制椭圆，我们需要传递几个参数。 一个参数是中心位置（x，y）。 下一个参数是轴长度（长轴长度，短轴长度）。 角度是椭圆在逆时针方向上的旋转角度。 startAngle和endAngle表示从主轴顺时针方向测量的椭圆弧的起点和终点。 即给出值0和360给出完整的椭圆。 有关更多详细信息，请查看cv.ellipse（）的文档。 下面的示例在图像的中心绘制一个半椭圆。

	cv.ellipse(img,(256,256),(100,50),0,0,180,255,-1)

## 绘制多边形 ##

要绘制多边形，首先需要顶点坐标。 将这些点组成一个形状为ROWSx1x2的数组，其中ROWS是顶点数，它应该是int32类型。 在这里，我们绘制一个带有四个黄色顶点的小多边形。

	pts = np.array([[10,5],[20,30],[70,20],[50,10]], np.int32)
	pts = pts.reshape((-1,1,2))
	cv.polylines(img,[pts],True,(0,255,255))

**注意：** 如果第三个参数为False，您将获得连接所有点的折线，而不是闭合形状。
cv.polylines（）可用于绘制多条线。 只需创建要绘制的所有行的列表，然后将其传递给函数。 所有线条都将单独绘制。 绘制一组行比为每行调用cv.line（）要好得多，速度更快。

## 向图像添加文本 ##

要将文本绘制到图像中，您需要指定以下内容：

- 要写入的文本数据
- 您想要放置它的位置坐标（即数据开始的左下角）。
- 字体类型（检查支持字体的cv.putText（）文档）
- 字体缩放（指定字体大小）
- 常规的东西，如颜色，粗细，线型等。为了更好看，建议使用lineType = cv.LINE_AA。

我们将图像上用白色绘制“OpenCV”文本。

	font = cv.FONT_HERSHEY_SIMPLEX
	cv.putText(img,'OpenCV',(10,500), font, 4,(255,255,255),2,cv.LINE_AA)

## 结果 ##

所以是时候看看我们绘图的最终结果了。 正如您在之前的文章中所研究的那样，显示图像以查看它。

![](https://docs.opencv.org/4.1.0/drawing_result.jpg)

## 其他资源 ##

椭圆函数中使用的角度不是我们的圆角。 有关更多详细信息，请访问此[论坛](http://answers.opencv.org/question/14541/angles-in-ellipse-function/)。

## 练习 ##

尝试使用OpenCV中提供的绘图功能创建OpenCV的徽标。